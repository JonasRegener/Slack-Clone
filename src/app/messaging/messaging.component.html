<app-loading-screen *ngIf="loading"></app-loading-screen>

<div class="screen-field row">
    <div class="channel-field">
         <header *ngIf="!loading">{{ displayName }}</header>
        <!--<div class="content-field-first-entry" *ngIf="channelContent && !loading">
            <div class="content-entry">
                <div>
                    <img [src]=>
                </div>
                <div class="full-width">
                    <span class="displayName">{{ channelContent.receiverUID }} <span class="postedAt">{{ channelContent.date
                            }}</span></span>
                    <div>
                        <div id="content" class="content full-width" [innerHTML]="channelContent.message">
                        </div>
                    </div>
                    <div>
                        <ngx-emoji *ngIf=content.reactions matBadge="1" matBadgeSize="small"
                            emoji="{{ content.reactions }}" class="reaction">
                        </ngx-emoji>
                        <div *ngIf="content.comments.length > 0"><button (click)="addComment(content)">{{ content.comments.length }} {{ getCommentlength(content.comments.length) }}</button></div>
                    </div> 
                </div>
                 <div class="reaction-bar">
                    <ngx-emoji emoji="smiley" (emojiClick)="addEmoji(i, 'smiley')"></ngx-emoji>
                    <ngx-emoji emoji="heart_eyes" (emojiClick)="addEmoji(i, 'heart_eyes')"></ngx-emoji>
                    <ngx-emoji emoji="thumbsup" (emojiClick)="addEmoji(i, 'thumbsup')"></ngx-emoji>
                    <ngx-emoji emoji="thumbsdown" (emojiClick)="addEmoji(i, 'thumbsdown')"></ngx-emoji>
                    <mat-icon matTooltip="Add comment" (click)="addComment(content)">reply
                    </mat-icon>
                    <mat-icon *ngIf="content.userName == loggedIn" matTooltip="Edit note" (click)="openEditor(content)">
                        edit_note</mat-icon>
                    <mat-icon *ngIf="content.userName == loggedIn" matTooltip="Delete" (click)="deleteThread(content)">delete</mat-icon>
                </div> 
            </div>
        </div> -->
        <div class="content-field" *ngIf="channelContent">
            <div class="content-entry" *ngFor="let reply of sortMessages">
                <div>
                    <img [src]="getPhotoURL(reply.sentByUID)">
                </div>
                <div class="full-width">
                    <span class="displayName">{{ getSentByName(reply.sentByUID) }} <span class="postedAt">{{ convertToDate(reply.date) }}</span></span>
                    <div>
                        <div id="content" class="content full-width" [innerHTML]="reply.message">
                        </div>
                    </div>
                    <!-- <div>
                        <ngx-emoji *ngIf=content.reactions matBadge="1" matBadgeSize="small"
                            emoji="{{ content.reactions }}" class="reaction">
                        </ngx-emoji>
                        <div *ngIf="content.comments.length > 0"><button (click)="addComment(content)">{{ content.comments.length }} {{ getCommentlength(content.comments.length) }}</button></div>
                    </div> -->
                </div>
                <!-- <div class="reaction-bar">
                    <ngx-emoji emoji="smiley" (emojiClick)="addEmoji(i, 'smiley')"></ngx-emoji>
                    <ngx-emoji emoji="heart_eyes" (emojiClick)="addEmoji(i, 'heart_eyes')"></ngx-emoji>
                    <ngx-emoji emoji="thumbsup" (emojiClick)="addEmoji(i, 'thumbsup')"></ngx-emoji>
                    <ngx-emoji emoji="thumbsdown" (emojiClick)="addEmoji(i, 'thumbsdown')"></ngx-emoji>
                    <mat-icon matTooltip="Add comment" (click)="addComment(content)">reply
                    </mat-icon>
                    <mat-icon *ngIf="content.userName == loggedIn" matTooltip="Edit note" (click)="openEditor(content)">
                        edit_note</mat-icon>
                    <mat-icon *ngIf="content.userName == loggedIn" matTooltip="Delete" (click)="deleteThread(content)">delete</mat-icon>
                </div> -->
            </div>
        </div>
        <app-message-field-private class="message-field-thread-position"></app-message-field-private>
    </div>

</div>